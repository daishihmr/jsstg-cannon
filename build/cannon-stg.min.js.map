{"version":3,"file":"cannon-stg.min.js","sources":["../scripts/_pre.js","../scripts/main.js","../scripts/sound.js","../scripts/scenes/gamescene.js","../scripts/scenes/menudialog.js","../scripts/scenes/titlescene.js","../scripts/elements/background.js","../scripts/elements/explode.js","../scripts/elements/fighter.js","../scripts/elements/shot.js","../scripts/elements/terrain.js","../scripts/utils/collisionhelper.js"],"names":["cannon","app","SC_W","SC_H","FIGHTER_RADIUS","FIGHTER_SPEED","SHOT_SPEED","HEAT_BY_SHOT","optionSettings","seVolume","bgmVolume","tm","display","Label","default","fontFamily","ASSETS","fighter","aura","shot","backfire","explode0","explode1","sounds/extend","Math","PHI","main","Application","fps","resize","fitWindow","replaceScene","ui","LoadingScene","width","height","assets","nextScene","GameScene","tester","document","createElement","style","innerHTML","body","appendChild","before","offsetWidth","timeout","checkLoadFont","removeChild","run","setTimeout","define","superClass","init","canvasId","this","superInit","keyboard","element","addEventListener","e","keyCode","preventDefault","playSe","soundName","asset","Manager","get","clone","setVolume","play","playBgm","fromJSON","children","backgroundLayer","type","bg","playerLayer","player","scene","enemyLayer","terrainLayer","ceil","CEIL","floor","FLOOR","bulletLayer","update","forEach","t","scroll","some","isHit","damage","title","menu","descriptions","defaultIndex","menuDesctiptions","showExit","screenWidth","screenHeight","backgroundColor","boxColor","cursorColor","on","setInteractive","x","y","onpointingend","that","pushScene","MenuDialog","value","startGame","graphics","Canvas","setFillStyle","fillRect","originX","originY","setPosition","setBlendMode","setFrameIndex","frame","frameIndex","remove","setScale","scaleY","setBoundingType","radius","beforeX","beforeY","roll","heat","scaleX","kb","keyDirection","getKeyDirection","position","add","mul","clamp","getKeyDown","Shot","addChildTo","parent","console","log","data","setOrigin","lines","i","len","length","push","a","geom","Vector2","b","strokeStyle","draw","canvas","context","lineWidth","beginPath","line","moveTo","lineTo","stroke","target","c","CollisionHelper","isHitCircleLine","circle","Vec2","s","sub","radSq","lengthSquared","abs","cross","dot"],"mappings":"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"}